---
import BentoBox from '@/components/layout/BentoBox.astro';
import Header from '@/components/page/Header.astro';

const numbers = [
  { number: 1295, description: "CHF earned through bug bounty", lastUpdated: new Date("03.07.2025") },
  { number: 29, description: "Accepted bug bounty reports", lastUpdated: new Date("03.07.2025") },
];

const convertNumberFormat = (num: number): string => {
    if (num >= 1_000_000_000_000) {
        return (num / 1_000_000_000_000).toFixed(2).replace(/\.00$/, '') + 'T';
    } else if (num >= 1_000_000_000) {
        return (num / 1_000_000_000).toFixed(2).replace(/\.00$/, '') + 'B';
    } else if (num >= 1_000_000) {
        return (num / 1_000_000).toFixed(2).replace(/\.00$/, '') + 'M';
    } else if (num >= 1_000) {
        return (num / 1_000).toFixed(2).replace(/\.00$/, '') + 'k';
    }
    return num.toString();
};

---

<Header title="Numbers" subtitle="Some numbers to illustrate who I am." />

<section id="beyond">
    <div class="max-w-6xl">
      <div class="mb-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {numbers.map(item => (
          <BentoBox className="aspect-square">
            <div class="flex flex-col">
                <span class="text-sm text-muted-foreground">{item.lastUpdated.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</span>
                <span class="font-bold text-6xl">{convertNumberFormat(item.number)}</span>
                <span class="text-muted-foreground">{item.description}</span>
            </div>
          </BentoBox>
        ))}
      </div>
    </div>
  </section>
  